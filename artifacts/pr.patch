diff --git a/tests/test_imports.py b/tests/test_imports.py
index ac39652..1f5b739 100644
--- a/tests/test_imports.py
+++ b/tests/test_imports.py
@@ -4,6 +4,14 @@ import pathlib
 import pytest
 
 
+def _pop_module_tree(module_name: str) -> dict[str, object]:
+    removed: dict[str, object] = {}
+    for key in list(sys.modules):
+        if key == module_name or key.startswith(f"{module_name}."):
+            removed[key] = sys.modules.pop(key)
+    return removed
+
+
 @pytest.mark.parametrize(
     "mod",
     [
@@ -22,24 +30,27 @@ import pytest
 )
 def test_imports(mod):
     sys.path.insert(0, str(pathlib.Path(__file__).resolve().parents[1]))
+    previous_modules = _pop_module_tree(mod)
     previous_whisperx = sys.modules.pop("whisperx", None)
     try:
+        importlib.invalidate_caches()
         assert importlib.import_module(mod)
         assert "whisperx" not in sys.modules
     finally:
+        sys.modules.update(previous_modules)
         if previous_whisperx is not None:
             sys.modules["whisperx"] = previous_whisperx
 
 
 def test_orchestrator_import_does_not_import_whisperx():
     sys.path.insert(0, str(pathlib.Path(__file__).resolve().parents[1]))
+    previous_orchestrator_modules = _pop_module_tree("lan_transcriber.pipeline_steps.orchestrator")
     previous_whisperx = sys.modules.pop("whisperx", None)
-    previous_orchestrator = sys.modules.pop("lan_transcriber.pipeline_steps.orchestrator", None)
     try:
+        importlib.invalidate_caches()
         assert importlib.import_module("lan_transcriber.pipeline_steps.orchestrator")
         assert "whisperx" not in sys.modules
     finally:
-        if previous_orchestrator is not None:
-            sys.modules["lan_transcriber.pipeline_steps.orchestrator"] = previous_orchestrator
+        sys.modules.update(previous_orchestrator_modules)
         if previous_whisperx is not None:
             sys.modules["whisperx"] = previous_whisperx
